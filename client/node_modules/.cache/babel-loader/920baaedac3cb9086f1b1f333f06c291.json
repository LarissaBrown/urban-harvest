{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/larissabrown/Desktop/Development/module-6/urban-harvest/client/src/context/HarvestProvider.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { userAxios } from \"./UserProvider\";\nexport const HarvestContext = /*#__PURE__*/React.createContext();\n\nfunction HarvestProvider({\n  children\n}) {\n  _s();\n\n  const [harvest, setHarvest] = useState();\n  const [harvests, setHarvests] = useState([]);\n  const [initState, setInitState] = useState([{\n    body: '',\n    harvestImg: '',\n    userHandle: ''\n  }]);\n\n  const getAllHarvests = () => {\n    userAxios.get(`/harvests`).then(response => {\n      setHarvests([...harvests, response.data]);\n    }).catch(err => console.error(err));\n  };\n\n  const getHarvest = id => {\n    userAxios.get(`/api/harvest/${id}`).then(response => {\n      setHarvest(prevHarvests => prevHarvests.map(harvest => harvest._id === id ? { ...harvest\n      } : harvest));\n    }).catch(err => console.error(err));\n  };\n\n  const updateHarvest = (id, data) => {\n    userAxios.put(`/api/harvest/${id}`, data).then(response => {\n      const index = harvests.findIndex(harvest => harvest._id === id);\n      const updated = [...harvests];\n      updated[index].harvest = response.data;\n      setHarvests([updated]);\n    }).catch(err => console.dir(err));\n  };\n\n  const deleteHarvest = id => {\n    userAxios.delete(`/api/harvest/${id}`).then(response => {\n      setHarvest(prevHarvests => [prevHarvests.filter(harvest => harvest.user._id !== id), response.data]);\n    }).catch(err => console.dir(err));\n  };\n\n  const getUserHarvests = id => {\n    userAxios.get(`/api/harvest/${id}`).then(response => {\n      setHarvest(prevHarvests => [prevHarvests.filter(harvest => harvest.user === id)], response.data);\n    }).catch(err => console.log(err.response.data.errMsg));\n  };\n\n  const addHarvest = body => {\n    userAxios.post(`/api/harvest`, body).then(response => {\n      setHarvests(prevHarvests => [...prevHarvests], response.data);\n    }).catch(err => console.dir(err));\n  };\n\n  return /*#__PURE__*/_jsxDEV(HarvestContext.Provider, {\n    value: {\n      harvests,\n      harvest,\n      getAllHarvests,\n      getUserHarvests,\n      deleteHarvest,\n      updateHarvest,\n      addHarvest,\n      getHarvest\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 12\n  }, this);\n}\n\n_s(HarvestProvider, \"/zkpy+dzscSHEjKVUf6cmDnyGV0=\");\n\n_c = HarvestProvider;\nexport { HarvestProvider };\n\nvar _c;\n\n$RefreshReg$(_c, \"HarvestProvider\");","map":{"version":3,"sources":["/Users/larissabrown/Desktop/Development/module-6/urban-harvest/client/src/context/HarvestProvider.js"],"names":["React","useState","userAxios","HarvestContext","createContext","HarvestProvider","children","harvest","setHarvest","harvests","setHarvests","initState","setInitState","body","harvestImg","userHandle","getAllHarvests","get","then","response","data","catch","err","console","error","getHarvest","id","prevHarvests","map","_id","updateHarvest","put","index","findIndex","updated","dir","deleteHarvest","delete","filter","user","getUserHarvests","log","errMsg","addHarvest","post"],"mappings":"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","sourcesContent":["import React, {useState} from \"react\";\nimport { userAxios} from \"./UserProvider\";\n\n\n\n\nexport const HarvestContext = React.createContext();\n\n\n\nfunction HarvestProvider({ children }) {\n\n\n    const [harvest, setHarvest] = useState();\n    const [harvests, setHarvests] = useState([]);\n    const [initState, setInitState] = useState([{ body: '', harvestImg: '', userHandle: '' }])\n\n    const getAllHarvests = () => {\n        userAxios.get(`/harvests`)\n            .then(response => {\n                setHarvests([...harvests, response.data]);\n\n\n            })\n            .catch(err => console.error(err));\n\n\n    };\n\n\n    const getHarvest = (id) => {\n        userAxios.get(`/api/harvest/${id}`)\n            .then(response => {\n                setHarvest(prevHarvests => prevHarvests.map(harvest => harvest._id === id ? { ...harvest } : harvest));\n            }).catch(err => console.error(err));\n    };\n\n\n\n    const updateHarvest = (id, data) => {\n        userAxios.put(`/api/harvest/${id}`, data).then(response => {\n            const index = harvests.findIndex(harvest => harvest._id === id);\n            const updated = [...harvests];\n            updated[index].harvest = response.data;\n            setHarvests([updated]);\n        }).catch(err => console.dir(err));\n    };\n\n\n\n    const deleteHarvest = id => {\n        userAxios.delete(`/api/harvest/${id}`).then(response => {\n            setHarvest(prevHarvests => [prevHarvests.filter(harvest => harvest.user._id !== id), response.data]);\n        }).catch(err => console.dir(err));\n    };\n\n    const getUserHarvests = id => {\n        userAxios.get(`/api/harvest/${id}`).then(response => {\n            setHarvest(prevHarvests => [prevHarvests.filter(harvest => harvest.user === id)], response.data);\n\n        })\n            .catch(err => console.log(err.response.data.errMsg));\n    };\n\n\n\n\n    const addHarvest = (body) => {\n        userAxios.post(`/api/harvest`, body).then(response => {\n            setHarvests(prevHarvests => [...prevHarvests], response.data);\n\n        }).catch(err => console.dir(err));\n    };\n\n\n\n    return <HarvestContext.Provider\n        value={{\n            harvests,\n            harvest,\n            getAllHarvests,\n            getUserHarvests,\n            deleteHarvest,\n            updateHarvest,\n            addHarvest,\n            getHarvest\n        }}>\n        {children}\n    </HarvestContext.Provider>;\n\n}\nexport {HarvestProvider}"]},"metadata":{},"sourceType":"module"}