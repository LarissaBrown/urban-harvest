{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/larissabrown/Desktop/Development/module-6/urban-harvest/client/src/context/HarvestProvider.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { userAxios } from \"./UserProvider\";\nexport const HarvestContext = /*#__PURE__*/React.createContext();\n\nfunction HarvestProvider(props) {\n  _s();\n\n  const [harvest, setHarvest] = useState({});\n  const [harvests, setHarvests] = useState([]);\n  const [initState, setInitState] = useState([{\n    body: '',\n    harvestImg: '',\n    userHandle: ''\n  }]);\n\n  const getAllHarvests = () => {\n    axios.get(`/harvests`).then(response => {\n      setHarvests([...harvests, response.data]);\n    }).catch(err => console.error(err));\n  };\n\n  const getHarvest = id => {\n    xios.get(`/api/harvest/${id}`).then(response => {\n      setHarvest(prevHarvests => prevHarvests.map(harvest => harvest._id === id ? { ...harvest\n      } : harvest));\n    }).catch(err => console.error(err));\n  };\n\n  const updateHarvest = (id, data) => {\n    userAxios.put(`/api/harvest/${id}`, data).then(response => {\n      const index = harvests.findIndex(harvest => harvest._id === id);\n      const updated = [...harvests];\n      updated[index].harvest = response.data;\n      setHarvests([updated]);\n    }).catch(err => console.dir(err));\n  };\n\n  const deleteHarvest = id => {\n    userAxios.delete(`/api/harvest/${id}`).then(response => {\n      setHarvest(prevHarvests => [prevHarvests.filter(harvest => harvest.user._id !== id), response.data]);\n    }).catch(err => console.dir(err));\n  };\n\n  const getUserHarvests = id => {\n    userAxios.get(`/api/harvest/${id}`).then(response => {\n      setHarvest(prevHarvests => [prevHarvests.filter(harvest => harvest.user === id)], response.data);\n    }).catch(err => console.log(err.response.data.errMsg));\n  };\n\n  const addHarvest = body => {\n    userAxios.post(`/api/harvest`, body).then(response => {\n      setHarvests(prevHarvests => [...prevHarvests], response.data);\n    }).catch(err => console.dir(err));\n  };\n\n  return /*#__PURE__*/_jsxDEV(HarvestContext.Provider, {\n    value: {\n      harvests,\n      harvest,\n      initState,\n      getAllHarvests,\n      getUserHarvests,\n      deleteHarvest,\n      updateHarvest,\n      addHarvest,\n      getHarvest\n    },\n    children: props.children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 12\n  }, this);\n}\n\n_s(HarvestProvider, \"GIRQzoe6xwCZTB9CRO6/wuKD/9I=\");\n\n_c = HarvestProvider;\nexport { HarvestProvider };\n\nvar _c;\n\n$RefreshReg$(_c, \"HarvestProvider\");","map":{"version":3,"sources":["/Users/larissabrown/Desktop/Development/module-6/urban-harvest/client/src/context/HarvestProvider.js"],"names":["React","useState","userAxios","HarvestContext","createContext","HarvestProvider","props","harvest","setHarvest","harvests","setHarvests","initState","setInitState","body","harvestImg","userHandle","getAllHarvests","axios","get","then","response","data","catch","err","console","error","getHarvest","id","xios","prevHarvests","map","_id","updateHarvest","put","index","findIndex","updated","dir","deleteHarvest","delete","filter","user","getUserHarvests","log","errMsg","addHarvest","post","children"],"mappings":"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","sourcesContent":["import React, {useState} from \"react\";\nimport { userAxios} from \"./UserProvider\";\n\n\n\n\nexport const HarvestContext = React.createContext();\n\n\n\nfunction HarvestProvider(props) {\n\n\n    const [harvest, setHarvest] = useState({});\n    const [harvests, setHarvests] = useState([]);\n    const [initState, setInitState] = useState([{ body: '', harvestImg: '', userHandle: '' }])\n\n    const getAllHarvests = () => {\n        axios.get(`/harvests`)\n            .then(response => {\n                setHarvests([...harvests, response.data]);\n\n\n            })\n            .catch(err => console.error(err));\n\n\n    };\n\n\n    const getHarvest = (id) => {\n        xios.get(`/api/harvest/${id}`)\n            .then(response => {\n                setHarvest(prevHarvests => prevHarvests.map(harvest => harvest._id === id ? { ...harvest } : harvest));\n            }).catch(err => console.error(err));\n    };\n\n\n\n    const updateHarvest = (id, data) => {\n        userAxios.put(`/api/harvest/${id}`, data).then(response => {\n            const index = harvests.findIndex(harvest => harvest._id === id);\n            const updated = [...harvests];\n            updated[index].harvest = response.data;\n            setHarvests([updated]);\n        }).catch(err => console.dir(err));\n    };\n\n\n\n    const deleteHarvest = id => {\n        userAxios.delete(`/api/harvest/${id}`).then(response => {\n            setHarvest(prevHarvests => [prevHarvests.filter(harvest => harvest.user._id !== id), response.data]);\n        }).catch(err => console.dir(err));\n    };\n\n    const getUserHarvests = id => {\n        userAxios.get(`/api/harvest/${id}`).then(response => {\n            setHarvest(prevHarvests => [prevHarvests.filter(harvest => harvest.user === id)], response.data);\n\n        })\n            .catch(err => console.log(err.response.data.errMsg));\n    };\n\n\n\n\n    const addHarvest = (body) => {\n        userAxios.post(`/api/harvest`, body).then(response => {\n            setHarvests(prevHarvests => [...prevHarvests], response.data);\n\n        }).catch(err => console.dir(err));\n    };\n\n\n\n    return <HarvestContext.Provider\n        value={{\n            harvests,\n            harvest,\n            initState,\n            getAllHarvests,\n            getUserHarvests,\n            deleteHarvest,\n            updateHarvest,\n            addHarvest,\n            getHarvest\n        }}>\n        {props.children}\n    </HarvestContext.Provider>;\n\n}\nexport {HarvestProvider}"]},"metadata":{},"sourceType":"module"}