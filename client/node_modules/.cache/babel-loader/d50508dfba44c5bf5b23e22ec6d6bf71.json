{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/larissabrown/Desktop/Development/module-6/urban-harvest/client/src/context/HarvestProvider.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { userAxios } from \"./UserProvider\";\nexport const HarvestContext = /*#__PURE__*/React.createContext();\n\nfunction HarvestProvider(props) {\n  _s();\n\n  const [initState, setInitState] = useState([{\n    title: 'Potatoes',\n    body: 'These potatoes are fresh from the earth.',\n    harvestImg: 'https://images.unsplash.com/photo-1599776765307-c7fb21bf7a91?ixid=MXwxMjA3fDB8MHxzZWFyY2h8ODJ8fHZlZ2V0YWJsZSUyMGdhcmRlbnxlbnwwfHwwfA%3D%3D&ixlib=rb-1.2.1&auto=format&fit=crop',\n    userHandle: 'Farmer Brown'\n  }, {\n    title: 'Lettuce',\n    body: 'Lettuce is ready.',\n    harvestImg: 'https://images.unsplash.com/photo-1516906561371-53f48df1254d?ixid=MXwxMjA3fDB8MHxzZWFyY2h8Nnx8dmVnZXRhYmxlJTIwZ2FyZGVufGVufDB8fDB8&ixlib=rb-1.2.1&auto=format&fit=crop',\n    userHandle: 'Farmer Gorton'\n  }, {\n    title: 'Lemons',\n    body: 'Life has given us lemons.',\n    harvestImg: 'https://images.unsplash.com/photo-1533680074546-cdacd8313251?ixid=MXwxMjA3fDB8MHxzZWFyY2h8NXx8ZnJ1aXQlMjB0cmVlfGVufDB8fDB8&ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60',\n    userHandle: 'Farmer Kirah'\n  }, {\n    title: \"Cherries\",\n    body: \"Cherries! Cherries! We've got cherrries.\",\n    harvestImg: 'https://images.unsplash.com/photo-1435910083655-98a18caf9b3a?ixid=MXwxMjA3fDB8MHxzZWFyY2h8N3x8ZnJ1aXQlMjB0cmVlfGVufDB8fDB8&ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60',\n    userHandle: 'Farmer Sue'\n  }, {\n    title: \"Apricots\",\n    body: 'Please take some apricots.',\n    harvestImg: 'https://images.unsplash.com/photo-1597663072555-b2c94a94ab71?ixid=MXwxMjA3fDB8MHxzZWFyY2h8Mnx8YXByaWNvdCUyMHRyZWV8ZW58MHx8MHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60',\n    userHandle: 'Farmer Fred'\n  }, {\n    title: \"Apples\",\n    body: 'An apple a day, for days.',\n    harvestImg: 'https://images.unsplash.com/photo-1600917000152-ff5d44a22c2e?ixid=MXwxMjA3fDB8MHxzZWFyY2h8Mzd8fGFwcGxlc3xlbnwwfHwwfA%3D%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60',\n    userHandle: 'Farmer Gillian'\n  }, {\n    title: \"Tomatoes\",\n    body: 'Attack of Too Many Tomatoes!',\n    harvestImg: 'https://images.unsplash.com/photo-1598512752271-33f913a5af13?ixid=MXwxMjA3fDB8MHxzZWFyY2h8MjB8fHRvbWF0b2VzfGVufDB8fDB8&ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60',\n    userHandle: 'Farmer Penelope'\n  }, {\n    body: 'Jamberry Jam.',\n    harvestImg: 'https://images.unsplash.com/photo-1472479427421-c6daa7ce0f7b?ixid=MXwxMjA3fDB8MHxzZWFyY2h8Mzd8fGJlcnJpZXN8ZW58MHx8MHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60',\n    userHandle: 'Farmer Mark'\n  }]);\n  const [harvest, setHarvest] = useState();\n  const [harvests, setHarvests] = useState(initState);\n\n  const getAllHarvests = () => {\n    userAxios.get(`/harvests`).then(response => {\n      setHarvests([response.data]);\n    }).catch(err => console.error(err));\n  };\n\n  const getHarvest = id => {\n    userAxios.get(`/api/harvest/${id}`).then(response => {\n      setHarvest(prevHarvests => prevHarvests.map(harvest => harvest._id === id ? { ...harvest\n      } : harvest));\n    }).catch(err => console.error(err));\n  };\n\n  const updateHarvest = (id, data) => {\n    userAxios.put(`/api/harvest/${id}`, data).then(response => {\n      const index = harvests.findIndex(harvest => harvest._id === id);\n      const updated = [...harvests];\n      updated[index].harvest = response.data;\n      setHarvests([updated]);\n    }).catch(err => console.dir(err));\n  };\n\n  const deleteHarvest = id => {\n    userAxios.delete(`/api/harvest/${id}`).then(response => {\n      setHarvest(prevHarvests => [prevHarvests.filter(harvest => harvest.user._id !== id), response.data]);\n    }).catch(err => console.dir(err));\n  };\n\n  const getUserHarvests = id => {\n    userAxios.get(`/api/harvest/${id}`).then(response => {\n      setHarvest(prevHarvests => [prevHarvests.filter(harvest => harvest.user === id)], response.data);\n    }).catch(err => console.log(err.response.data.errMsg));\n  };\n\n  const addHarvest = body => {\n    userAxios.post(`/api/harvest`, body).then(response => {\n      setHarvests(prevHarvests => [...prevHarvests], response.data);\n    }).catch(err => console.dir(err));\n  };\n\n  return /*#__PURE__*/_jsxDEV(HarvestContext.Provider, {\n    value: {\n      harvests,\n      harvest,\n      initState,\n      getAllHarvests,\n      getUserHarvests,\n      deleteHarvest,\n      updateHarvest,\n      addHarvest,\n      getHarvest\n    },\n    children: props.children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 127,\n    columnNumber: 12\n  }, this);\n}\n\n_s(HarvestProvider, \"R4Rn3z+yRGrf9HUvHOi7T5eO9Fk=\");\n\n_c = HarvestProvider;\nexport { HarvestProvider };\n\nvar _c;\n\n$RefreshReg$(_c, \"HarvestProvider\");","map":{"version":3,"sources":["/Users/larissabrown/Desktop/Development/module-6/urban-harvest/client/src/context/HarvestProvider.js"],"names":["React","useState","userAxios","HarvestContext","createContext","HarvestProvider","props","initState","setInitState","title","body","harvestImg","userHandle","harvest","setHarvest","harvests","setHarvests","getAllHarvests","get","then","response","data","catch","err","console","error","getHarvest","id","prevHarvests","map","_id","updateHarvest","put","index","findIndex","updated","dir","deleteHarvest","delete","filter","user","getUserHarvests","log","errMsg","addHarvest","post","children"],"mappings":"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","sourcesContent":["import React, {useState} from \"react\";\nimport { userAxios} from \"./UserProvider\";\n\n\n\n\n\nexport const HarvestContext = React.createContext();\n\n\n\nfunction HarvestProvider(props) {\n\n    const [initState, setInitState] = useState([\n        { \n            title: 'Potatoes',\n            body: 'These potatoes are fresh from the earth.', \n            harvestImg: 'https://images.unsplash.com/photo-1599776765307-c7fb21bf7a91?ixid=MXwxMjA3fDB8MHxzZWFyY2h8ODJ8fHZlZ2V0YWJsZSUyMGdhcmRlbnxlbnwwfHwwfA%3D%3D&ixlib=rb-1.2.1&auto=format&fit=crop', \n            userHandle: 'Farmer Brown' \n        },\n        { \n            title: 'Lettuce',\n            body: 'Lettuce is ready.', \n            harvestImg: 'https://images.unsplash.com/photo-1516906561371-53f48df1254d?ixid=MXwxMjA3fDB8MHxzZWFyY2h8Nnx8dmVnZXRhYmxlJTIwZ2FyZGVufGVufDB8fDB8&ixlib=rb-1.2.1&auto=format&fit=crop', \n            userHandle: 'Farmer Gorton' \n        },\n        { \n            title: 'Lemons',\n            body: 'Life has given us lemons.', \n            harvestImg: 'https://images.unsplash.com/photo-1533680074546-cdacd8313251?ixid=MXwxMjA3fDB8MHxzZWFyY2h8NXx8ZnJ1aXQlMjB0cmVlfGVufDB8fDB8&ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60', \n            userHandle: 'Farmer Kirah' \n        },\n        { \n            title: \"Cherries\",\n            body: \"Cherries! Cherries! We've got cherrries.\", \n            harvestImg: 'https://images.unsplash.com/photo-1435910083655-98a18caf9b3a?ixid=MXwxMjA3fDB8MHxzZWFyY2h8N3x8ZnJ1aXQlMjB0cmVlfGVufDB8fDB8&ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60', \n            userHandle: 'Farmer Sue' \n        },\n        { \n            title: \"Apricots\",\n            body: 'Please take some apricots.', \n            harvestImg: 'https://images.unsplash.com/photo-1597663072555-b2c94a94ab71?ixid=MXwxMjA3fDB8MHxzZWFyY2h8Mnx8YXByaWNvdCUyMHRyZWV8ZW58MHx8MHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60', \n            userHandle: 'Farmer Fred' \n        },\n        { \n            title: \"Apples\",\n            body: 'An apple a day, for days.', \n            harvestImg: 'https://images.unsplash.com/photo-1600917000152-ff5d44a22c2e?ixid=MXwxMjA3fDB8MHxzZWFyY2h8Mzd8fGFwcGxlc3xlbnwwfHwwfA%3D%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60', \n            userHandle: 'Farmer Gillian' \n        },\n        {   \n            title: \"Tomatoes\",\n            body: 'Attack of Too Many Tomatoes!', \n            harvestImg: 'https://images.unsplash.com/photo-1598512752271-33f913a5af13?ixid=MXwxMjA3fDB8MHxzZWFyY2h8MjB8fHRvbWF0b2VzfGVufDB8fDB8&ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60', \n            userHandle: 'Farmer Penelope' \n        },\n        { \n                \n            body: 'Jamberry Jam.', \n            harvestImg: 'https://images.unsplash.com/photo-1472479427421-c6daa7ce0f7b?ixid=MXwxMjA3fDB8MHxzZWFyY2h8Mzd8fGJlcnJpZXN8ZW58MHx8MHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60', \n            userHandle: 'Farmer Mark' \n        }\n    ])\n    const [harvest, setHarvest] = useState();\n    const [harvests, setHarvests] = useState(initState);\n   \n\n    const getAllHarvests = () => {\n        userAxios.get(`/harvests`)\n            .then(response => {\n                setHarvests([response.data]);\n\n\n            })\n            .catch(err => console.error(err));\n\n\n    };\n\n\n    const getHarvest = (id) => {\n        userAxios.get(`/api/harvest/${id}`)\n            .then(response => {\n                setHarvest(prevHarvests => prevHarvests.map(harvest => harvest._id === id ? { ...harvest } : harvest));\n            }).catch(err => console.error(err));\n    };\n\n\n\n    const updateHarvest = (id, data) => {\n        userAxios.put(`/api/harvest/${id}`, data).then(response => {\n            const index = harvests.findIndex(harvest => harvest._id === id);\n            const updated = [...harvests];\n            updated[index].harvest = response.data;\n            setHarvests([updated]);\n        }).catch(err => console.dir(err));\n    };\n\n\n\n    const deleteHarvest = id => {\n        userAxios.delete(`/api/harvest/${id}`).then(response => {\n            setHarvest(prevHarvests => [prevHarvests.filter(harvest => harvest.user._id !== id), response.data]);\n        }).catch(err => console.dir(err));\n    };\n\n    const getUserHarvests = id => {\n        userAxios.get(`/api/harvest/${id}`).then(response => {\n            setHarvest(prevHarvests => [prevHarvests.filter(harvest => harvest.user === id)], response.data);\n\n        })\n            .catch(err => console.log(err.response.data.errMsg));\n    };\n\n\n\n\n    const addHarvest = (body) => {\n        userAxios.post(`/api/harvest`, body).then(response => {\n            setHarvests(prevHarvests => [...prevHarvests], response.data);\n\n        }).catch(err => console.dir(err));\n    };\n\n\n\n    return <HarvestContext.Provider\n        value={{\n            harvests,\n            harvest,\n            initState,\n            getAllHarvests,\n            getUserHarvests,\n            deleteHarvest,\n            updateHarvest,\n            addHarvest,\n            getHarvest\n        }}>\n        {props.children}\n    </HarvestContext.Provider>;\n\n}\nexport {HarvestProvider}"]},"metadata":{},"sourceType":"module"}