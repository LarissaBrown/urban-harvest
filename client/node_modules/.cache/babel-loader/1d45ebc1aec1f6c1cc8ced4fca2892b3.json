{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/larissabrown/Desktop/Development/module-6/urban-harvest/client/src/context/HarvestProvider.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { userAxios } from \"./UserProvider\";\nexport const HarvestContext = /*#__PURE__*/React.createContext();\n\nfunction HarvestProvider(props) {\n  _s();\n\n  const [initState, setInitState] = useState([{\n    body: 'These potatoes are fresh from the earth.',\n    harvestImg: 'https://images.unsplash.com/photo-1599776765307-c7fb21bf7a91?ixid=MXwxMjA3fDB8MHxzZWFyY2h8ODJ8fHZlZ2V0YWJsZSUyMGdhcmRlbnxlbnwwfHwwfA%3D%3D&ixlib=rb-1.2.1&auto=format&fit=crop&height=width',\n    userHandle: 'Farmer Brown'\n  }, {\n    body: 'Lettuce is ready.',\n    harvestImg: 'https://images.unsplash.com/photo-1516906561371-53f48df1254d?ixid=MXwxMjA3fDB8MHxzZWFyY2h8Nnx8dmVnZXRhYmxlJTIwZ2FyZGVufGVufDB8fDB8&ixlib=rb-1.2.1&auto=format&fit=crop&height=width',\n    userHandle: 'Farmer Gorton'\n  }, {\n    body: 'Tomatoes for days.',\n    harvestImg: 'https://images.unsplash.com/photo-1601001816339-74036796370c?ixid=MXwxMjA3fDB8MHxzZWFyY2h8MTV8fHZlZ2V0YWJsZSUyMGdhcmRlbnxlbnwwfHwwfA%3D%3D&ixlib=rb-1.2.1&auto=format&fit=crop&height=width',\n    userHandle: 'Farmer Kirah'\n  }, {\n    body: 'Jamberry Jam.',\n    harvestImg: 'https://images.unsplash.com/photo-1536235635699-370e8047ac1a?ixid=MXwxMjA3fDB8MHxzZWFyY2h8MjF8fHZlZ2V0YWJsZSUyMGdhcmRlbnxlbnwwfHwwfA%3D%3D&ixlib=rb-1.2.1&auto=format&fit=crop&height=',\n    userHandle: 'Farmer Sue'\n  }, {\n    body: 'These potatoes are fresh from the earth.',\n    harvestImg: 'https://images.unsplash.com/photo-1599776765307-c7fb21bf7a91?ixid=MXwxMjA3fDB8MHxzZWFyY2h8ODJ8fHZlZ2V0YWJsZSUyMGdhcmRlbnxlbnwwfHwwfA%3D%3D&ixlib=rb-1.2.1&auto=format&fit=crop&height=200&width=200',\n    userHandle: 'Farmer Brown'\n  }, {\n    body: 'Lettuce is ready.',\n    harvestImg: 'https://images.unsplash.com/photo-1516906561371-53f48df1254d?ixid=MXwxMjA3fDB8MHxzZWFyY2h8Nnx8dmVnZXRhYmxlJTIwZ2FyZGVufGVufDB8fDB8&ixlib=rb-1.2.1&auto=format&fit=crop&height=width',\n    userHandle: 'Farmer Gorton'\n  }, {\n    body: 'Tomatoes for days.',\n    harvestImg: 'https://images.unsplash.com/photo-1601001816339-74036796370c?ixid=MXwxMjA3fDB8MHxzZWFyY2h8MTV8fHZlZ2V0YWJsZSUyMGdhcmRlbnxlbnwwfHwwfA%3D%3D&ixlib=rb-1.2.1&auto=format&fit=crop&height=200&width=200',\n    userHandle: 'Farmer Kirah'\n  }, {\n    body: 'Jamberry Jam.',\n    harvestImg: 'https://images.unsplash.com/photo-1536235635699-370e8047ac1a?ixid=MXwxMjA3fDB8MHxzZWFyY2h8MjF8fHZlZ2V0YWJsZSUyMGdhcmRlbnxlbnwwfHwwfA%3D%3D&ixlib=rb-1.2.1&auto=format&fit=crop&height=200&width=200',\n    userHandle: 'Farmer Sue'\n  }]);\n  const [harvest, setHarvest] = useState();\n  const [harvests, setHarvests] = useState(initState);\n\n  const getAllHarvests = () => {\n    userAxios.get(`/harvests`).then(response => {\n      setHarvests([response.data]);\n    }).catch(err => console.error(err));\n  };\n\n  const getHarvest = id => {\n    userAxios.get(`/api/harvest/${id}`).then(response => {\n      setHarvest(prevHarvests => prevHarvests.map(harvest => harvest._id === id ? { ...harvest\n      } : harvest));\n    }).catch(err => console.error(err));\n  };\n\n  const updateHarvest = (id, data) => {\n    userAxios.put(`/api/harvest/${id}`, data).then(response => {\n      const index = harvests.findIndex(harvest => harvest._id === id);\n      const updated = [...harvests];\n      updated[index].harvest = response.data;\n      setHarvests([updated]);\n    }).catch(err => console.dir(err));\n  };\n\n  const deleteHarvest = id => {\n    userAxios.delete(`/api/harvest/${id}`).then(response => {\n      setHarvest(prevHarvests => [prevHarvests.filter(harvest => harvest.user._id !== id), response.data]);\n    }).catch(err => console.dir(err));\n  };\n\n  const getUserHarvests = id => {\n    userAxios.get(`/api/harvest/${id}`).then(response => {\n      setHarvest(prevHarvests => [prevHarvests.filter(harvest => harvest.user === id)], response.data);\n    }).catch(err => console.log(err.response.data.errMsg));\n  };\n\n  const addHarvest = body => {\n    userAxios.post(`/api/harvest`, body).then(response => {\n      setHarvests(prevHarvests => [...prevHarvests], response.data);\n    }).catch(err => console.dir(err));\n  };\n\n  return /*#__PURE__*/_jsxDEV(HarvestContext.Provider, {\n    value: {\n      harvests,\n      harvest,\n      initState,\n      getAllHarvests,\n      getUserHarvests,\n      deleteHarvest,\n      updateHarvest,\n      addHarvest,\n      getHarvest\n    },\n    children: props.children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 119,\n    columnNumber: 12\n  }, this);\n}\n\n_s(HarvestProvider, \"xi0JC9ziijOqgNf/nAiW40ySZ7I=\");\n\n_c = HarvestProvider;\nexport { HarvestProvider };\n\nvar _c;\n\n$RefreshReg$(_c, \"HarvestProvider\");","map":{"version":3,"sources":["/Users/larissabrown/Desktop/Development/module-6/urban-harvest/client/src/context/HarvestProvider.js"],"names":["React","useState","userAxios","HarvestContext","createContext","HarvestProvider","props","initState","setInitState","body","harvestImg","userHandle","harvest","setHarvest","harvests","setHarvests","getAllHarvests","get","then","response","data","catch","err","console","error","getHarvest","id","prevHarvests","map","_id","updateHarvest","put","index","findIndex","updated","dir","deleteHarvest","delete","filter","user","getUserHarvests","log","errMsg","addHarvest","post","children"],"mappings":"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","sourcesContent":["import React, {useState} from \"react\";\nimport { userAxios} from \"./UserProvider\";\n\n\n\n\n\nexport const HarvestContext = React.createContext();\n\n\n\nfunction HarvestProvider(props) {\n\n    const [initState, setInitState] = useState([\n        { \n            body: 'These potatoes are fresh from the earth.', \n            harvestImg: 'https://images.unsplash.com/photo-1599776765307-c7fb21bf7a91?ixid=MXwxMjA3fDB8MHxzZWFyY2h8ODJ8fHZlZ2V0YWJsZSUyMGdhcmRlbnxlbnwwfHwwfA%3D%3D&ixlib=rb-1.2.1&auto=format&fit=crop&height=width', \n            userHandle: 'Farmer Brown' \n        },\n        { \n            body: 'Lettuce is ready.', \n            harvestImg: 'https://images.unsplash.com/photo-1516906561371-53f48df1254d?ixid=MXwxMjA3fDB8MHxzZWFyY2h8Nnx8dmVnZXRhYmxlJTIwZ2FyZGVufGVufDB8fDB8&ixlib=rb-1.2.1&auto=format&fit=crop&height=width', \n            userHandle: 'Farmer Gorton' \n        },\n        { \n            body: 'Tomatoes for days.', \n            harvestImg: 'https://images.unsplash.com/photo-1601001816339-74036796370c?ixid=MXwxMjA3fDB8MHxzZWFyY2h8MTV8fHZlZ2V0YWJsZSUyMGdhcmRlbnxlbnwwfHwwfA%3D%3D&ixlib=rb-1.2.1&auto=format&fit=crop&height=width', \n            userHandle: 'Farmer Kirah' \n        },\n        { \n            body: 'Jamberry Jam.', \n            harvestImg: 'https://images.unsplash.com/photo-1536235635699-370e8047ac1a?ixid=MXwxMjA3fDB8MHxzZWFyY2h8MjF8fHZlZ2V0YWJsZSUyMGdhcmRlbnxlbnwwfHwwfA%3D%3D&ixlib=rb-1.2.1&auto=format&fit=crop&height=', \n            userHandle: 'Farmer Sue' \n        },\n        { \n            body: 'These potatoes are fresh from the earth.', \n            harvestImg: 'https://images.unsplash.com/photo-1599776765307-c7fb21bf7a91?ixid=MXwxMjA3fDB8MHxzZWFyY2h8ODJ8fHZlZ2V0YWJsZSUyMGdhcmRlbnxlbnwwfHwwfA%3D%3D&ixlib=rb-1.2.1&auto=format&fit=crop&height=200&width=200', \n            userHandle: 'Farmer Brown' \n        },\n        { \n            body: 'Lettuce is ready.', \n            harvestImg: 'https://images.unsplash.com/photo-1516906561371-53f48df1254d?ixid=MXwxMjA3fDB8MHxzZWFyY2h8Nnx8dmVnZXRhYmxlJTIwZ2FyZGVufGVufDB8fDB8&ixlib=rb-1.2.1&auto=format&fit=crop&height=width', \n            userHandle: 'Farmer Gorton' \n        },\n        { \n            body: 'Tomatoes for days.', \n            harvestImg: 'https://images.unsplash.com/photo-1601001816339-74036796370c?ixid=MXwxMjA3fDB8MHxzZWFyY2h8MTV8fHZlZ2V0YWJsZSUyMGdhcmRlbnxlbnwwfHwwfA%3D%3D&ixlib=rb-1.2.1&auto=format&fit=crop&height=200&width=200', \n            userHandle: 'Farmer Kirah' \n        },\n        { \n            body: 'Jamberry Jam.', \n            harvestImg: 'https://images.unsplash.com/photo-1536235635699-370e8047ac1a?ixid=MXwxMjA3fDB8MHxzZWFyY2h8MjF8fHZlZ2V0YWJsZSUyMGdhcmRlbnxlbnwwfHwwfA%3D%3D&ixlib=rb-1.2.1&auto=format&fit=crop&height=200&width=200', \n            userHandle: 'Farmer Sue' \n        }\n    ])\n    const [harvest, setHarvest] = useState();\n    const [harvests, setHarvests] = useState(initState);\n   \n\n    const getAllHarvests = () => {\n        userAxios.get(`/harvests`)\n            .then(response => {\n                setHarvests([response.data]);\n\n\n            })\n            .catch(err => console.error(err));\n\n\n    };\n\n\n    const getHarvest = (id) => {\n        userAxios.get(`/api/harvest/${id}`)\n            .then(response => {\n                setHarvest(prevHarvests => prevHarvests.map(harvest => harvest._id === id ? { ...harvest } : harvest));\n            }).catch(err => console.error(err));\n    };\n\n\n\n    const updateHarvest = (id, data) => {\n        userAxios.put(`/api/harvest/${id}`, data).then(response => {\n            const index = harvests.findIndex(harvest => harvest._id === id);\n            const updated = [...harvests];\n            updated[index].harvest = response.data;\n            setHarvests([updated]);\n        }).catch(err => console.dir(err));\n    };\n\n\n\n    const deleteHarvest = id => {\n        userAxios.delete(`/api/harvest/${id}`).then(response => {\n            setHarvest(prevHarvests => [prevHarvests.filter(harvest => harvest.user._id !== id), response.data]);\n        }).catch(err => console.dir(err));\n    };\n\n    const getUserHarvests = id => {\n        userAxios.get(`/api/harvest/${id}`).then(response => {\n            setHarvest(prevHarvests => [prevHarvests.filter(harvest => harvest.user === id)], response.data);\n\n        })\n            .catch(err => console.log(err.response.data.errMsg));\n    };\n\n\n\n\n    const addHarvest = (body) => {\n        userAxios.post(`/api/harvest`, body).then(response => {\n            setHarvests(prevHarvests => [...prevHarvests], response.data);\n\n        }).catch(err => console.dir(err));\n    };\n\n\n\n    return <HarvestContext.Provider\n        value={{\n            harvests,\n            harvest,\n            initState,\n            getAllHarvests,\n            getUserHarvests,\n            deleteHarvest,\n            updateHarvest,\n            addHarvest,\n            getHarvest\n        }}>\n        {props.children}\n    </HarvestContext.Provider>;\n\n}\nexport {HarvestProvider}"]},"metadata":{},"sourceType":"module"}