{"version":3,"sources":["components/Navbar.js","components/Harvest.js","context/UserProvider.js","context/HarvestProvider.js","components/HarvestList.js","pages/home.js","pages/Login.js","pages/Signup.js","App.js","index.js"],"names":["Navbar","AppBar","Toolbar","Button","color","Component","Harvest","props","image","label","farmer","console","log","className","src","alt","UserContext","React","createContext","userAxios","axios","create","interceptors","request","use","config","token","localStorage","getItem","headers","Authorization","UserProvider","initState","user","JSON","parse","useState","userState","setUserState","Provider","value","signup","credentials","post","then","res","data","setItem","stringify","prevUserState","catch","err","dir","login","response","errMsg","logout","removeItem","children","HarvestContext","HarvestProvider","harvest","setHarvest","harvests","setHarvests","body","harvestImg","userHandle","getAllHarvests","get","error","getUserHarvests","id","prevHarvests","filter","deleteHarvest","delete","_id","updateHarvest","put","index","findIndex","updated","addHarvest","getHarvest","map","HarvestList","useContext","useEffect","v4","home","Login","inputs","setInputs","handleChange","e","target","name","prevInputs","class-name","onSubmit","preventDefault","type","handle","onChange","placeholder","email","password","confirmPassword","Signup","App","exact","path","component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.dc356f42.chunk.js","sourcesContent":["import React, {Component} from 'react'\n\n//MUI Stuff\nimport AppBar from '@material-ui/core/AppBar'\nimport Toolbar from '@material-ui/core/Toolbar'\nimport Button from '@material-ui/core/Button'\nimport { Link } from 'react-router-dom'\n\nclass Navbar extends Component {\n    \nrender() {\n\nreturn (\n    <AppBar>\n        <Toolbar>\n            <Button color=\"inherit\" >Home</Button>\n            <Button color=\"inherit\">Farmer Login</Button>\n            <Button color=\"inherit\">Farmer Signup</Button>\n        </Toolbar>\n\n    </AppBar>\n)\n}\n\n}\n\nexport default Navbar","import React from 'react'\n\n\n\nexport default function Harvest(props){\n\nconst {image, label, farmer} = props\n\nconsole.log(\"image\",image)\n    return(\n\n       \n        <div className=\"harvestDiv\">\n        \n            <img className=\"harvestImg\" src={image} alt=\"harvest-photo\"/>\n            <h1 className=\"harvestLabel\">{label}</h1>\n            <p className=\"farmer\">{farmer}</p>\n        </div>\n    )\n}","import React, { useState } from 'react'\nimport axios from 'axios'\n\nexport const UserContext = React.createContext()\n\nexport const userAxios = axios.create()\n\nuserAxios.interceptors.request.use(config => {\n    const token = localStorage.getItem(\"token\")\n    config.headers.Authorization = `Bearer ${token}`\n    return config\n})\n\n const UserProvider =(props) =>{\n    const initState = {\n        user: JSON.parse(localStorage.getItem(\"user\")) || {},\n        token: localStorage.getItem(\"token\") || \"\",  \n    }\n\n\n\nconst [userState, setUserState] = useState(initState)\n    \n    \nfunction signup(credentials){\n    userAxios.post(\"/signup\", credentials)\n    .then(res => {\n        const { user, token } = res.data\n\n        localStorage.setItem(\"token\", token)\n        localStorage.setItem(\"user\", JSON.stringify(user))\n\n        setUserState(prevUserState => ({\n            ...prevUserState,\n            user, \n            token\n        }))\n        \n    })\n    .catch(err => console.dir(\"error\"))\n}\n\nfunction login(credentials){\n    userAxios.post('/login', credentials)\n    .then(res => {\n        const {user, token} = res.data\n        localStorage.setItem('token', token)\n        localStorage.setItem('user', JSON.stringify(user))\n        setUserState(prevUserState => ({\n            ...prevUserState, \n            user, \n            token\n        }))\n        \n    })\n    .catch(err => console.dir(err.response.data.errMsg))\n}\n\nfunction logout(){\n    localStorage.removeItem('token')\n    localStorage.removeItem('user')\n    setUserState({\n        user: {},\n        token: \"\"\n    })\n   \n}\n\n\n\n\n    return <UserContext.Provider\n            value={{\n                ...userState,\n                signup,\n                login,\n                logout,\n                //isUserLoggedIn\n                \n              \n        }}>\n            {props.children }\n        </UserContext.Provider>\n    \n}\n\nexport default UserProvider","import React, {useState} from \"react\";\nimport { userAxios} from \"./UserProvider\";\n\n\n\n\nexport const HarvestContext = React.createContext();\n\n\n\nfunction HarvestProvider(props) {\n\n\n    const [harvest, setHarvest] = useState({});\n    const [harvests, setHarvests] = useState([]);\n    const [initState, setInitState] = useState([{ body: '', harvestImg: '', userHandle: '' }])\n\n    const getAllHarvests = () => {\n        userAxios.get(`/harvests`)\n            .then(response => {\n                setHarvests([...harvests, response.data]);\n\n\n            })\n            .catch(err => console.error(err));\n\n\n    };\n\n\n    const getHarvest = (id) => {\n        userAxios.get(`/api/harvest/${id}`)\n            .then(response => {\n                setHarvest(prevHarvests => prevHarvests.map(harvest => harvest._id === id ? { ...harvest } : harvest));\n            }).catch(err => console.error(err));\n    };\n\n\n\n    const updateHarvest = (id, data) => {\n        userAxios.put(`/api/harvest/${id}`, data).then(response => {\n            const index = harvests.findIndex(harvest => harvest._id === id);\n            const updated = [...harvests];\n            updated[index].harvest = response.data;\n            setHarvests([updated]);\n        }).catch(err => console.dir(err));\n    };\n\n\n\n    const deleteHarvest = id => {\n        userAxios.delete(`/api/harvest/${id}`).then(response => {\n            setHarvest(prevHarvests => [prevHarvests.filter(harvest => harvest.user._id !== id), response.data]);\n        }).catch(err => console.dir(err));\n    };\n\n    const getUserHarvests = id => {\n        userAxios.get(`/api/harvest/${id}`).then(response => {\n            setHarvest(prevHarvests => [prevHarvests.filter(harvest => harvest.user === id)], response.data);\n\n        })\n            .catch(err => console.log(err.response.data.errMsg));\n    };\n\n\n\n\n    const addHarvest = (body) => {\n        userAxios.post(`/api/harvest`, body).then(response => {\n            setHarvests(prevHarvests => [...prevHarvests], response.data);\n\n        }).catch(err => console.dir(err));\n    };\n\n\n\n    return <HarvestContext.Provider\n        value={{\n            harvests,\n            harvest,\n            initState,\n            getAllHarvests,\n            getUserHarvests,\n            deleteHarvest,\n            updateHarvest,\n            addHarvest,\n            getHarvest\n        }}>\n        {props.children}\n    </HarvestContext.Provider>;\n\n}\nexport {HarvestProvider}","import React, { useContext, useEffect } from 'react'\nimport Harvest from './Harvest'\nimport {HarvestContext} from '../context/HarvestProvider'\nimport {v4} from 'uuid'\n\n\n\n\n\n\nfunction HarvestList() {\n\n    const { harvests, getAllHarvests} = useContext(HarvestContext)\n    console.log(harvests)\n   \n    useEffect(() => {\n\n        getAllHarvests()\n        console.log('useEffectHarvests', harvests)\n\n    }, []\n    )\n\n    return (\n        <div className=\"currentHarvests\">\n\n            <h1>Current Available Harvests</h1>\n            <div className=\"harvests\">\n            { harvests.map(harvest => <Harvest image={harvest.harvestImg} label={harvest.body} farmer={harvest.userHandle}\n                key={v4()} />)}\n            </div>\n        </div>\n    )\n}\n\nexport default HarvestList","import React from 'react'\nimport HarvestList from \"../components/HarvestList\"\n\n\n\n\nexport default function home() {\n\n\n    return(\n\n    <div >\n        <h1>Urban Harvest</h1>\n        <h2>No waste is good waste.</h2>\n        <HarvestList />\n    </div>\n    )\n}\n","import React, { useState, useContext } from 'react'\nimport  { UserContext } from '../context/UserProvider'\n\n\nexport default function Login() {\n   \n    \n    const {login, user } = useContext(UserContext)\n    const [inputs, setInputs] = useState(user)\n   \n    function handleChange(e){\n        const { name, value } = e.target\n        setInputs(prevInputs => ({\n            ...prevInputs, \n            [name]: value\n        }))\n    }\n\n    function handleSubmit(e){\n        e.preventDefault()\n        login(inputs)\n        setInputs({})\n    }\n\n    return (\n        <div class-name=\"login-container\">\n           <form onSubmit={handleSubmit} className=\"login-form\">\n                <input\n                    type=\"text\"\n                    value={user.handle}\n                    name=\"handle\"\n                    onChange={handleChange}\n                    placeholder=\"Username\"/>\n                <input\n                    type=\"text\"\n                    value={user.email}\n                    name=\"email\"\n                    onChange={handleChange}\n                    placeholder=\"Email\"/>\n                <input\n                    type=\"text\"\n                    value={user.password}\n                    name=\"password\"\n                    onChange={handleChange}\n                    placeholder=\"Password\"/>\n                <input\n                    type=\"text\"\n                    value={user.confirmPassword}\n                    name=\"confirmPassword\"\n                    onChange={handleChange}\n                    placeholder=\"Confirm Password\"/>\n                <button>Login</button>\n            </form>\n        </div>\n    )\n}","import React, { useState, useContext } from 'react'\nimport  { UserContext } from '../context/UserProvider'\n\n\n\nexport default function Signup() {\n   \n    const {signup, user } = useContext(UserContext)\n    const [inputs, setInputs] = useState(user)\n    \n\n \n    function handleChange(e){\n        const { name, value } = e.target\n        setInputs(prevInputs => ({\n            ...prevInputs, \n            [name]: value\n        }))\n    }\n\n    function handleSubmit(e){\n        e.preventDefault()\n        signup(inputs)\n        setInputs({})\n    }\n\n   \n\n    return (\n        <div class-name=\"signup-container\">\n                   <form onSubmit={handleSubmit} className=\"signup-form\">\n                <input\n                    type=\"text\"\n                    value={user.handle}\n                    name=\"handle\"\n                    onChange={handleChange}\n                    placeholder=\"Username\"/>\n                <input\n                    type=\"text\"\n                    value={user.email}\n                    name=\"email\"\n                    onChange={handleChange}\n                    placeholder=\"Email\"/>\n                <input\n                    type=\"text\"\n                    value={user.password}\n                    name=\"password\"\n                    onChange={handleChange}\n                    placeholder=\"Password\"/>\n                <input\n                    type=\"text\"\n                    value={user.confirmPassword}\n                    name=\"confirmPassword\"\n                    onChange={handleChange}\n                    placeholder=\"Confirm Password\"/>\n                <button>Sign Up</button>\n            </form></div>\n    )\n}","import React from 'react'\nimport {BrowserRouter as Router, Route, Switch } from 'react-router-dom'\nimport './App.css';\n\n//components\nimport Navbar from './components/Navbar'\n//pages\nimport home from './pages/home'\nimport Login from './pages/Login'\nimport Signup from './pages/Signup'\n\n\n\nfunction App() {\n\n\n  return (\n    <div className=\"App\">\n     \n        <Navbar/>\n        <Switch>\n          <Route exact path='/' component={home}/>\n          <Route exact path=\"/login\" component={Login}/>\n          <Route exact path=\"/signup\" component={Signup}/>\n        </Switch>\n      \n    </div>\n  );\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport UserProvider from './context/UserProvider'\nimport {BrowserRouter} from 'react-router-dom'\nimport {HarvestProvider}from './context/HarvestProvider';\n\n\nReactDOM.render(\n \n    <BrowserRouter>\n    <UserProvider>\n     <HarvestProvider>\n    <App />\n    </HarvestProvider>\n    </UserProvider>\n    </BrowserRouter>,\n  \n  document.getElementById(\"root\")\n);\n\n\n\n"],"sourceRoot":""}